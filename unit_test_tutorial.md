# Pythonãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆå…¥é–€
ï½ã‚¹ãƒ©ã‚¤ãƒ ãƒãƒˆãƒ«ã‚²ãƒ¼ãƒ ã‚’ä¾‹ã«ï½

## ç›®æ¬¡
1. [ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã¨ã¯](#ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã¨ã¯)
2. [ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œæ–¹æ³•](#ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œæ–¹æ³•)
3. [ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®æ§‹é€ ](#ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®æ§‹é€ )
4. [å„ãƒ†ã‚¹ãƒˆã®è§£èª¬](#å„ãƒ†ã‚¹ãƒˆã®è§£èª¬)
5. [ãƒ†ã‚¹ãƒˆã®æ›¸ãæ–¹ã®ã‚³ãƒ„](#ãƒ†ã‚¹ãƒˆã®æ›¸ãæ–¹ã®ã‚³ãƒ„)
6. [ãƒ†ã‚¹ãƒˆãƒ¬ãƒãƒ¼ãƒˆã®ç”Ÿæˆ](#ãƒ†ã‚¹ãƒˆãƒ¬ãƒãƒ¼ãƒˆã®ç”Ÿæˆ)

## ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã¨ã¯

ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã¯ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®å°ã•ãªéƒ¨å“ï¼ˆãƒ¦ãƒ‹ãƒƒãƒˆï¼‰ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ãŸã‚ã®ãƒ†ã‚¹ãƒˆã§ã™ã€‚
ã‚¹ãƒ©ã‚¤ãƒ ãƒãƒˆãƒ«ã‚²ãƒ¼ãƒ ã®å ´åˆã€ä»¥ä¸‹ã®ã‚ˆã†ãªé …ç›®ã‚’ãƒ†ã‚¹ãƒˆã—ã¾ã™ï¼š

- ã‚¹ãƒ©ã‚¤ãƒ ãŒæ­£ã—ãåˆæœŸåŒ–ã•ã‚Œã‚‹ã‹
- è³¢è€…ã®å‘ªæ–‡ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã‹
- ãƒãƒˆãƒ«ã‚·ã‚¹ãƒ†ãƒ ãŒæ­£ã—ãæ©Ÿèƒ½ã™ã‚‹ã‹
- ã‚¹ãƒ©ã‚¤ãƒ ã®ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«è¡¨ç¾ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã‹

ã“ã‚Œã‚‰ã®ãƒ†ã‚¹ãƒˆã‚’è‡ªå‹•åŒ–ã™ã‚‹ã“ã¨ã§ï¼š
- ãƒã‚°ã®æ—©æœŸç™ºè¦‹
- å®‰å…¨ãªã‚³ãƒ¼ãƒ‰ä¿®æ­£
- ä»•æ§˜ã®æ˜ç¢ºåŒ–
ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚

## ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œæ–¹æ³•

### 1. é€šå¸¸ã®ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

```bash
# é€šå¸¸å®Ÿè¡Œ
python -m unittest test_slime_battle.py

# è©³ç´°ãªå®Ÿè¡Œçµæœã‚’è¡¨ç¤º
python -m unittest test_slime_battle.py -v
```

### 2. ãƒ†ã‚¹ãƒˆãƒ¬ãƒãƒ¼ãƒˆä»˜ãã®å®Ÿè¡Œ

```bash
# ãƒ†ã‚¹ãƒˆãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆã—ãªãŒã‚‰å®Ÿè¡Œ
python test_report.py
```

### 3. å®Ÿè¡Œçµæœã®è¦‹æ–¹

```
test_battle_initialization (test_slime_battle.TestBattle) ... ok
test_battle_first_turn (test_slime_battle.TestBattle) ... ok
test_status_effects (test_slime_battle.TestBattle) ... ok
```

- `ok`: ãƒ†ã‚¹ãƒˆæˆåŠŸ
- `FAIL`: ãƒ†ã‚¹ãƒˆå¤±æ•—
- `ERROR`: ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿ

## ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®æ§‹é€ 

ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªæ§‹é€ ã«ãªã£ã¦ã„ã¾ã™ï¼š

```python
class TestSlimeBase(unittest.TestCase):
    def setUp(self):
        """å„ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å®Ÿè¡Œå‰ã®æº–å‚™"""
        self.slime = BaseSlime()
        
    def test_slime_initialization(self):
        """åŸºæœ¬ã‚¹ãƒ©ã‚¤ãƒ ã®åˆæœŸåŒ–ãƒ†ã‚¹ãƒˆ"""
        self.assertIsNotNone(self.slime.hp)
        self.assertIsNotNone(self.slime.attack)
        self.assertIsNotNone(self.slime.defense)
        self.assertEqual(self.slime.status_effects, [])

    def test_slime_take_damage(self):
        """ãƒ€ãƒ¡ãƒ¼ã‚¸è¨ˆç®—ã®ãƒ†ã‚¹ãƒˆ"""
        initial_hp = self.slime.hp
        damage = 10
        self.slime.take_damage(damage)
        self.assertEqual(self.slime.hp, initial_hp - damage)
```

### é‡è¦ãªè¦ç´ 

1. **ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹**
   - `unittest.TestCase`ã‚’ç¶™æ‰¿
   - é–¢é€£ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–
   - ä¾‹ï¼š`TestSlimeBase`, `TestSage`, `TestBattle`, `TestSlimeArt`

2. **setUp ãƒ¡ã‚½ãƒƒãƒ‰**
   - å„ãƒ†ã‚¹ãƒˆã®å‰ã«å®Ÿè¡Œ
   - ãƒ†ã‚¹ãƒˆã«å¿…è¦ãªæº–å‚™ã‚’è¡Œã†
   - ä¾‹ï¼šãƒ†ã‚¹ãƒˆç”¨ã®ã‚¹ãƒ©ã‚¤ãƒ ã‚„ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®åˆæœŸåŒ–

3. **ãƒ†ã‚¹ãƒˆãƒ¡ã‚½ãƒƒãƒ‰**
   - `test_`ã§å§‹ã¾ã‚‹åå‰
   - 1ã¤ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’è¡¨ã™
   - docstringã§ãƒ†ã‚¹ãƒˆã®ç›®çš„ã‚’èª¬æ˜

## å„ãƒ†ã‚¹ãƒˆã®è§£èª¬

### 1. ã‚¹ãƒ©ã‚¤ãƒ ã®ãƒ†ã‚¹ãƒˆï¼ˆTestSlimeBaseï¼‰

```python
def test_slime_initialization(self):
    """åŸºæœ¬ã‚¹ãƒ©ã‚¤ãƒ ã®åˆæœŸåŒ–ãƒ†ã‚¹ãƒˆ"""
    self.assertIsNotNone(self.slime.hp)
    self.assertIsNotNone(self.slime.attack)
    self.assertIsNotNone(self.slime.defense)
    self.assertEqual(self.slime.status_effects, [])
```

ã“ã®ãƒ†ã‚¹ãƒˆã§ã¯ï¼š
- ã‚¹ãƒ©ã‚¤ãƒ ã®åŸºæœ¬å±æ€§ï¼ˆHPã€æ”»æ’ƒåŠ›ã€é˜²å¾¡åŠ›ï¼‰ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹
- çŠ¶æ…‹ç•°å¸¸ãƒªã‚¹ãƒˆãŒæ­£ã—ãåˆæœŸåŒ–ã•ã‚Œã¦ã„ã‚‹ã‹
ã‚’ç¢ºèªã—ã¾ã™ã€‚

### 2. è³¢è€…ã®ãƒ†ã‚¹ãƒˆï¼ˆTestSageï¼‰

```python
def test_spell_casting(self):
    """å‘ªæ–‡è© å”±ãƒ†ã‚¹ãƒˆ"""
    target = BaseSlime()
    initial_mp = self.sage.mp
    
    # ãƒ¡ãƒ©ã®è© å”±ãƒ†ã‚¹ãƒˆ
    self.sage.cast_spell("ãƒ¡ãƒ©", target)
    self.assertTrue(self.sage.mp < initial_mp)  # MPãŒæ¶ˆè²»ã•ã‚Œã¦ã„ã‚‹ã‹
    self.assertTrue(target.hp < target.max_hp)  # ãƒ€ãƒ¡ãƒ¼ã‚¸ãŒå…¥ã£ã¦ã„ã‚‹ã‹
```

ã“ã®ãƒ†ã‚¹ãƒˆã§ã¯ï¼š
- å‘ªæ–‡ä½¿ç”¨æ™‚ã®MPæ¶ˆè²»
- å¯¾è±¡ã¸ã®ãƒ€ãƒ¡ãƒ¼ã‚¸å‡¦ç†
- å‘ªæ–‡ã®åŠ¹æœï¼ˆãƒ€ãƒ¡ãƒ¼ã‚¸ã€å›å¾©ã€çŠ¶æ…‹å¤‰åŒ–ï¼‰
ã‚’ç¢ºèªã—ã¾ã™ã€‚

### 3. ãƒãƒˆãƒ«ã®ãƒ†ã‚¹ãƒˆï¼ˆTestBattleï¼‰

```python
def test_battle_initialization(self):
    """ãƒãƒˆãƒ«åˆæœŸåŒ–ãƒ†ã‚¹ãƒˆ"""
    self.assertIsNone(self.battle.current_enemy)
    self.assertEqual(self.battle.turn_count, 0)
    
    self.battle.start_battle()
    
    self.assertIsNotNone(self.battle.current_enemy)
    self.assertEqual(self.battle.turn_count, 0)
```

ã“ã®ãƒ†ã‚¹ãƒˆã§ã¯ï¼š
- ãƒãƒˆãƒ«é–‹å§‹å‰ã®åˆæœŸçŠ¶æ…‹
- ãƒãƒˆãƒ«é–‹å§‹å¾Œã®çŠ¶æ…‹å¤‰åŒ–
- ã‚¿ãƒ¼ãƒ³æ•°ã®ç®¡ç†
ã‚’ç¢ºèªã—ã¾ã™ã€‚

### 4. ã‚¹ãƒ©ã‚¤ãƒ ã‚¢ãƒ¼ãƒˆã®ãƒ†ã‚¹ãƒˆï¼ˆTestSlimeArtï¼‰

```python
def test_get_slime_art(self):
    """ã‚¹ãƒ©ã‚¤ãƒ ã®ã‚¢ã‚¹ã‚­ãƒ¼ã‚¢ãƒ¼ãƒˆå–å¾—ãƒ†ã‚¹ãƒˆ"""
    test_slimes = [
        BaseSlime(),        # é€šå¸¸ã‚¹ãƒ©ã‚¤ãƒ 
        MetalSlime(),       # ãƒ¡ã‚¿ãƒ«ã‚¹ãƒ©ã‚¤ãƒ 
        StrayMetal(),       # ã¯ãã‚Œãƒ¡ã‚¿ãƒ«ï¼ˆğŸ‘‘ãªã—ï¼‰
        KingSlime(),        # ã‚­ãƒ³ã‚°ã‚¹ãƒ©ã‚¤ãƒ ï¼ˆğŸ‘‘ã‚ã‚Šï¼‰
        PoisonSlime(),      # æ¯’ã‚¹ãƒ©ã‚¤ãƒ 
        MetalKingSlime()    # ãƒ¡ã‚¿ãƒ«ã‚­ãƒ³ã‚°ã‚¹ãƒ©ã‚¤ãƒ ï¼ˆğŸ‘‘ã‚ã‚Šï¼‰
    ]
    
    for slime in test_slimes:
        art = self.art.get_slime_art(slime)
        self.assertIsNotNone(art)
        self.assertIsInstance(art, str)
        self.assertTrue(len(art) > 0)
        
        # ç‰¹å®šã®ã‚¹ãƒ©ã‚¤ãƒ ã®ç‰¹å¾´ã‚’ãƒã‚§ãƒƒã‚¯
        if isinstance(slime, MetalKingSlime):
            self.assertIn("ğŸ‘‘", art)  # ãƒ¡ã‚¿ãƒ«ã‚­ãƒ³ã‚°ã‚¹ãƒ©ã‚¤ãƒ ã¯ğŸ‘‘ã‚’æŒã¤
        elif isinstance(slime, (MetalSlime, StrayMetal)):
            self.assertNotIn("ğŸ‘‘", art)  # ãƒ¡ã‚¿ãƒ«ã‚¹ãƒ©ã‚¤ãƒ ã¨ã¯ãã‚Œãƒ¡ã‚¿ãƒ«ã¯ğŸ‘‘ã‚’æŒãŸãªã„
        elif isinstance(slime, KingSlime):
            self.assertIn("ğŸ‘‘", art)  # ã‚­ãƒ³ã‚°ã‚¹ãƒ©ã‚¤ãƒ ã¯ğŸ‘‘ã‚’æŒã¤
        elif isinstance(slime, PoisonSlime):
            self.assertIn("â˜ ", art)  # æ¯’ã‚¹ãƒ©ã‚¤ãƒ ã¯â˜ ã‚’æŒã¤

def test_get_slime_color(self):
    """ã‚¹ãƒ©ã‚¤ãƒ ã®è‰²æƒ…å ±å–å¾—ãƒ†ã‚¹ãƒˆ"""
    test_slimes = [
        BaseSlime(),        # é’
        MetalSlime(),       # éŠ€
        KingSlime(),        # ç´«
        StrayMetal(),       # é‡‘
        PoisonSlime(),      # ç´«
        MetalKingSlime()    # é‡‘
    ]
    
    for slime in test_slimes:
        color = self.art.get_slime_color(slime)
        self.assertIsNotNone(color)
        self.assertIsInstance(color, str)
        self.assertTrue(color.startswith("\033["))
```

ã“ã®ãƒ†ã‚¹ãƒˆã§ã¯ï¼š
- å„ç¨®ã‚¹ãƒ©ã‚¤ãƒ ã®ã‚¢ã‚¹ã‚­ãƒ¼ã‚¢ãƒ¼ãƒˆç”Ÿæˆ
- ç‰¹å®šã®ã‚¹ãƒ©ã‚¤ãƒ ç¨®åˆ¥ã«å¿œã˜ãŸç‰¹å¾´ï¼ˆğŸ‘‘ã€â˜ ãªã©ï¼‰ã®å­˜åœ¨ç¢ºèª
- è‰²æƒ…å ±ã®å–å¾—ã¨å½¢å¼
ã‚’ç¢ºèªã—ã¾ã™ã€‚

## ãƒ†ã‚¹ãƒˆã®æ›¸ãæ–¹ã®ã‚³ãƒ„

### 1. ãƒ†ã‚¹ãƒˆã®åå‰ä»˜ã‘
è‰¯ã„ä¾‹ï¼š
```python
def test_slime_takes_damage_when_attacked(self):
def test_sage_learns_new_spells_on_level_up(self):
```
- ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã®ã‹æ˜ç¢º
- æœŸå¾…ã•ã‚Œã‚‹çµæœãŒåˆ†ã‹ã‚‹
- å…·ä½“çš„ãªå‹•ä½œã‚’ç¤ºã™

### 2. 1ã¤ã®ãƒ†ã‚¹ãƒˆã§1ã¤ã®æ©Ÿèƒ½
è‰¯ã„ä¾‹ï¼š
```python
def test_spell_casting(self):
    self.sage.cast_spell("ãƒ¡ãƒ©", target)
    self.assertTrue(self.sage.mp < initial_mp)
```
- ãƒ¡ãƒ©ã®è© å”±ã«ç„¦ç‚¹ã‚’å½“ã¦ã¦ã„ã‚‹
- ç¢ºèªé …ç›®ãŒæ˜ç¢º
- å‰¯ä½œç”¨ã‚’å«ã¾ãªã„

### 3. assertã®ä½¿ã„æ–¹
ã‚ˆãä½¿ã†assertï¼š
- `assertEqual(a, b)`: aã¨bãŒç­‰ã—ã„ã‹
- `assertTrue(x)`: xãŒçœŸã‹
- `assertIsNotNone(x)`: xãŒNoneã§ãªã„ã‹
- `assertIsInstance(x, type)`: xãŒæŒ‡å®šã®å‹ã‹

ä¾‹ï¼š
```python
self.assertEqual(self.slime.hp, initial_hp - damage)  # ãƒ€ãƒ¡ãƒ¼ã‚¸è¨ˆç®—
self.assertTrue(len(self.sage.spells) > 0)  # å‘ªæ–‡ã®å­˜åœ¨
self.assertIsInstance(color, str)  # å‹ãƒã‚§ãƒƒã‚¯
```

### 4. ãƒ†ã‚¹ãƒˆã®æº–å‚™
- `setUp`ãƒ¡ã‚½ãƒƒãƒ‰ã‚’æ´»ç”¨
- ãƒ†ã‚¹ãƒˆã«å¿…è¦ãªæœ€å°é™ã®æº–å‚™ã ã‘ã‚’è¡Œã†
- ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã¯åˆ†ã‹ã‚Šã‚„ã™ã„å€¤ã‚’ä½¿ç”¨

```python
def setUp(self):
    self.sage = Sage("ãƒ†ã‚¹ãƒˆãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼")
    self.battle = Battle(self.sage, test_mode=True)
```

## ãƒ†ã‚¹ãƒˆãƒ¬ãƒãƒ¼ãƒˆã®ç”Ÿæˆ

ãƒ†ã‚¹ãƒˆçµæœã‚’åˆ†ã‹ã‚Šã‚„ã™ãè¨˜éŒ²ã™ã‚‹ãŸã‚ã«ã€ãƒ†ã‚¹ãƒˆãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆã§ãã¾ã™ï¼š

```python
# test_report.pyã‚’å®Ÿè¡Œ
python test_report.py
```

ç”Ÿæˆã•ã‚Œã‚‹ãƒ¬ãƒãƒ¼ãƒˆã®å½¢å¼ï¼š
1. Markdownå½¢å¼ (.md)
   - å®Ÿè¡Œæ¦‚è¦ï¼ˆæ—¥æ™‚ã€ãƒ†ã‚¹ãƒˆæ•°ã€æˆåŠŸ/å¤±æ•—æ•°ï¼‰
   - ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã”ã¨ã®çµæœ
   - å„ãƒ†ã‚¹ãƒˆã®è©³ç´°ï¼ˆèª¬æ˜ã€çµæœã€å®Ÿè¡Œæ™‚é–“ï¼‰

2. HTMLå½¢å¼ (.html)
   - è¦‹ã‚„ã™ã„ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
   - è‰²åˆ†ã‘ã•ã‚ŒãŸçµæœè¡¨ç¤º
   - è©³ç´°ãªã‚¨ãƒ©ãƒ¼æƒ…å ±

## ã¾ã¨ã‚

ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã‚’æ›¸ãã“ã¨ã§ï¼š
1. ã‚³ãƒ¼ãƒ‰ã®å“è³ªã‚’ä¿è¨¼
2. ãƒã‚°ã®æ—©æœŸç™ºè¦‹
3. å®‰å…¨ãªã‚³ãƒ¼ãƒ‰ä¿®æ­£
4. ä»•æ§˜ã®æ˜ç¢ºåŒ–
ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚

åˆã‚ã¯å°ã•ãªãƒ†ã‚¹ãƒˆã‹ã‚‰å§‹ã‚ã¦ã€å¾ã€…ã«ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’å¢—ã‚„ã—ã¦ã„ãã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚
ã¾ãŸã€ãƒ†ã‚¹ãƒˆãƒ¬ãƒãƒ¼ãƒˆã‚’æ´»ç”¨ã™ã‚‹ã“ã¨ã§ã€ãƒ†ã‚¹ãƒˆçµæœã®ç®¡ç†ã¨å…±æœ‰ãŒå®¹æ˜“ã«ãªã‚Šã¾ã™ã€‚ 